{"version":3,"file":"setup.js","sources":["../src/localstorage.js","../src/setup.js"],"sourcesContent":["export class LocalStorage {\n  constructor(jest) {\n    Object.defineProperty(this, 'getItem', {\n      enumerable: false,\n      value: jest.fn(key => this[key] || null),\n    });\n    Object.defineProperty(this, 'setItem', {\n      enumerable: false,\n      // not mentioned in the spec, but we must always coerce to a string\n      value: jest.fn((key, val = '') => {\n        this[key] = val + '';\n      }),\n    });\n    Object.defineProperty(this, 'removeItem', {\n      enumerable: false,\n      value: jest.fn(key => {\n        delete this[key];\n      }),\n    });\n    Object.defineProperty(this, 'clear', {\n      enumerable: false,\n      value: jest.fn(() => {\n        Object.keys(this).map(key => delete this[key]);\n      }),\n    });\n    Object.defineProperty(this, 'toString', {\n      enumerable: false,\n      value: jest.fn(() => {\n        return '[object Storage]';\n      }),\n    });\n    Object.defineProperty(this, 'key', {\n      enumerable: false,\n      value: jest.fn(idx => Object.keys(this)[idx] || null),\n    });\n  } // end constructor\n\n  get length() {\n    return Object.keys(this).length;\n  }\n  // for backwards compatibility\n  get __STORE__() {\n    return this;\n  }\n}\n","import { LocalStorage } from './localstorage';\n\nif (typeof global._localStorage !== 'undefined') {\n  Object.defineProperty(global, '_localStorage', {\n    value: new LocalStorage(jest),\n    writable: false,\n  });\n} else {\n  global.localStorage = new LocalStorage(jest);\n}\n\nif (typeof global._sessionStorage !== 'undefined') {\n  Object.defineProperty(global, '_sessionStorage', {\n    value: new LocalStorage(jest),\n    writable: false,\n  });\n} else {\n  global.sessionStorage = new LocalStorage(jest);\n}\n"],"names":["LocalStorage","constructor","jest","Object","defineProperty","enumerable","value","fn","key","val","keys","map","idx","length","__STORE__","global","_localStorage","writable","localStorage","_sessionStorage","sessionStorage"],"mappings":";;AAAO,MAAMA,YAAN,CAAmB;EACxBC,WAAW,CAACC,IAAD,EAAO;IAChBC,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,SAA5B,EAAuC;MACrCC,UAAU,EAAE,KADyB;MAErCC,KAAK,EAAEJ,IAAI,CAACK,EAAL,CAAQC,GAAG,IAAI,KAAKA,GAAL,KAAa,IAA5B;KAFT;IAIAL,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,SAA5B,EAAuC;MACrCC,UAAU,EAAE,KADyB;;MAGrCC,KAAK,EAAEJ,IAAI,CAACK,EAAL,CAAQ,CAACC,GAAD,EAAMC,GAAG,GAAG,EAAZ,KAAmB;aAC3BD,GAAL,IAAYC,GAAG,GAAG,EAAlB;OADK;KAHT;IAOAN,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,YAA5B,EAA0C;MACxCC,UAAU,EAAE,KAD4B;MAExCC,KAAK,EAAEJ,IAAI,CAACK,EAAL,CAAQC,GAAG,IAAI;eACb,KAAKA,GAAL,CAAP;OADK;KAFT;IAMAL,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;MACnCC,UAAU,EAAE,KADuB;MAEnCC,KAAK,EAAEJ,IAAI,CAACK,EAAL,CAAQ,MAAM;QACnBJ,MAAM,CAACO,IAAP,CAAY,IAAZ,EAAkBC,GAAlB,CAAsBH,GAAG,IAAI,OAAO,KAAKA,GAAL,CAApC;OADK;KAFT;IAMAL,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,UAA5B,EAAwC;MACtCC,UAAU,EAAE,KAD0B;MAEtCC,KAAK,EAAEJ,IAAI,CAACK,EAAL,CAAQ,MAAM;eACZ,kBAAP;OADK;KAFT;IAMAJ,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,KAA5B,EAAmC;MACjCC,UAAU,EAAE,KADqB;MAEjCC,KAAK,EAAEJ,IAAI,CAACK,EAAL,CAAQK,GAAG,IAAIT,MAAM,CAACO,IAAP,CAAY,IAAZ,EAAkBE,GAAlB,KAA0B,IAAzC;KAFT;GA/BsB;;;MAqCpBC,MAAJ,GAAa;WACJV,MAAM,CAACO,IAAP,CAAY,IAAZ,EAAkBG,MAAzB;GAtCsB;;;MAyCpBC,SAAJ,GAAgB;WACP,IAAP;;;;;ACxCJ,IAAI,OAAOC,MAAM,CAACC,aAAd,KAAgC,WAApC,EAAiD;EAC/Cb,MAAM,CAACC,cAAP,CAAsBW,MAAtB,EAA8B,eAA9B,EAA+C;IAC7CT,KAAK,EAAE,IAAIN,YAAJ,CAAiBE,IAAjB,CADsC;IAE7Ce,QAAQ,EAAE;GAFZ;CADF,MAKO;EACLF,MAAM,CAACG,YAAP,GAAsB,IAAIlB,YAAJ,CAAiBE,IAAjB,CAAtB;;;AAGF,IAAI,OAAOa,MAAM,CAACI,eAAd,KAAkC,WAAtC,EAAmD;EACjDhB,MAAM,CAACC,cAAP,CAAsBW,MAAtB,EAA8B,iBAA9B,EAAiD;IAC/CT,KAAK,EAAE,IAAIN,YAAJ,CAAiBE,IAAjB,CADwC;IAE/Ce,QAAQ,EAAE;GAFZ;CADF,MAKO;EACLF,MAAM,CAACK,cAAP,GAAwB,IAAIpB,YAAJ,CAAiBE,IAAjB,CAAxB;"}